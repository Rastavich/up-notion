import{C as t,S as e,i as a,s as n,e as o,t as s,c as r,a as c,g as l,d as i,f as u,G as d,L as f,H as h,I as m,M as p,b,N as g,v as y,r as v,z as k,h as E,k as x,j as T,n as w,m as N,o as $,O as I,w as S,P as j}from"../chunks/vendor-82bb4997.js";const O=t([]);JSON.stringify({parent:{database_id:"72ed0bc8a5c24fde86b8e13f4589f465"},properties:{Tags:{id:"FB|y",type:"select",select:{id:"6e86cb06-1464-4af3-9ba7-3a8afef386f3",name:"Monthly",color:"brown"}},Company:{id:"NEcW",type:"select",select:{id:"3b433831-d710-47ad-963b-bed522e13f8d",name:"Description",color:"default"}},Total:{id:"Qvu`",type:"formula",formula:{type:"number",number:null}},Type:{id:"[c{o",type:"select",select:{id:"b892d96a-4509-4071-bc2b-69beab1ed15b",name:"Income",color:"orange"}},Amount:{id:"a@LY",type:"number",number:500},Name:{id:"title",type:"title",title:[{type:"text",text:{content:"TESTING",link:null},annotations:{bold:!1,italic:!1,strikethrough:!1,underline:!1,code:!1,color:"default"},plain_text:"TESTING",href:null}]}}});async function A({data:t,method:e,token:a,url:n}){const o={method:e,headers:{}};return t&&(o.headers["Content-Type"]="application/json",o.body=t),a&&(o.headers.Authorization=`Bearer ${a.token}`),"https://thingproxy.freeboard.io/fetch/https://api.notion.com/v1/"==n&&(o.headers["Notion-Version"]="2021-05-13"),console.log("Headers:",o,"URL: ",n,"Token: ",a),fetch(n+`${a.params}`,o).then((t=>t.text())).then((t=>{try{return JSON.parse(t)}catch(e){return t}}))}function L(t){return t.errors?{status:401,body:t}:{body:t}}function C(t){let e,a,n,m,p;return{c(){e=o("section"),a=o("button"),n=s("Add transactions to Notion")},l(t){e=r(t,"SECTION",{});var o=c(e);a=r(o,"BUTTON",{});var s=c(a);n=l(s,"Add transactions to Notion"),s.forEach(i),o.forEach(i)},m(o,s){u(o,e,s),d(e,a),d(a,n),m||(p=f(a,"click",t[0]),m=!0)},p:h,i:h,o:h,d(t){t&&i(e),m=!1,p()}}}function G(t,e,a){let n;async function o(t,e){const a=JSON.stringify({parent:{database_id:"72ed0bc8a5c24fde86b8e13f4589f465"},properties:{Tags:{id:"FB|y",type:"select",select:{id:"6e86cb06-1464-4af3-9ba7-3a8afef386f3",name:"Monthly",color:"brown"}},Company:{id:"NEcW",type:"select",select:{id:"3b433831-d710-47ad-963b-bed522e13f8d",name:"Description",color:"default"}},Total:{id:"Qvu`",type:"formula",formula:{type:"number",number:null}},Type:{id:"[c{o",type:"select",select:{id:"b892d96a-4509-4071-bc2b-69beab1ed15b",name:"Expense",color:"orange"}},Amount:{id:"a@LY",type:"number",number:parseInt(n[e].attributes.amount.value)},Name:{id:"title",type:"title",title:[{type:"text",text:{content:n[e].attributes.description,link:null},annotations:{bold:!1,italic:!1,strikethrough:!1,underline:!1,code:!1,color:"default"},plain_text:n[e].attributes.description,href:null}]}}}),o=await function(t,e,a){return A({method:"POST",data:t,token:e,url:a})}(a,{token:"secret_QEyt9T64tm7zKaWjeQi89IXIHNKEWOymuHRyGBnU81l",params:"pages"},"https://thingproxy.freeboard.io/fetch/https://api.notion.com/v1/");await L(o)}return m(t,O,(t=>a(1,n=t))),[function(){n.forEach(o)}]}class B extends e{constructor(t){super(),a(this,t,G,C,n,{})}}function H(t,e,a){const n=t.slice();return n[1]=e[a],n}function U(t){return{c:h,l:h,m:h,p:h,i:h,o:h,d:h}}function R(t){let e,a,n,o=t[0],s=[];for(let r=0;r<o.length;r+=1)s[r]=V(H(t,o,r));return a=new B({}),{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=x(),T(a.$$.fragment)},l(t){for(let e=0;e<s.length;e+=1)s[e].l(t);e=w(t),N(a.$$.fragment,t)},m(t,o){for(let e=0;e<s.length;e+=1)s[e].m(t,o);u(t,e,o),$(a,t,o),n=!0},p(t,a){if(1&a){let n;for(o=t[0],n=0;n<o.length;n+=1){const r=H(t,o,n);s[n]?s[n].p(r,a):(s[n]=V(r),s[n].c(),s[n].m(e.parentNode,e))}for(;n<s.length;n+=1)s[n].d(1);s.length=o.length}},i(t){n||(y(a.$$.fragment,t),n=!0)},o(t){v(a.$$.fragment,t),n=!1},d(t){I(s,t),t&&i(e),S(a,t)}}}function V(t){let e,a,n,f,h,m=t[1].attributes.description+"",p=t[1].attributes.amount.value+"";return{c(){e=o("ul"),a=o("li"),n=s(m),f=s("  Amount:\n          "),h=s(p),this.h()},l(t){e=r(t,"UL",{class:!0});var o=c(e);a=r(o,"LI",{class:!0});var s=c(a);n=l(s,m),f=l(s,"  Amount:\n          "),h=l(s,p),s.forEach(i),o.forEach(i),this.h()},h(){b(a,"class","svelte-1oxx3q2"),b(e,"class","svelte-1oxx3q2")},m(t,o){u(t,e,o),d(e,a),d(a,n),d(a,f),d(a,h)},p(t,e){1&e&&m!==(m=t[1].attributes.description+"")&&E(n,m),1&e&&p!==(p=t[1].attributes.amount.value+"")&&E(h,p)},d(t){t&&i(e)}}}function W(t){let e,a;return{c(){e=o("h1"),a=s("....Loading transactions")},l(t){e=r(t,"H1",{});var n=c(e);a=l(n,"....Loading transactions"),n.forEach(i)},m(t,n){u(t,e,n),d(e,a)},p:h,i:h,o:h,d(t){t&&i(e)}}}function M(t){let e,a,n,s={ctx:t,current:null,token:null,hasCatch:!1,pending:W,then:R,catch:U,blocks:[,,,]};return p(a=t[0],s),{c(){e=o("div"),s.block.c(),this.h()},l(t){e=r(t,"DIV",{class:!0});var a=c(e);s.block.l(a),a.forEach(i),this.h()},h(){b(e,"class","container svelte-1oxx3q2")},m(t,a){u(t,e,a),s.block.m(e,s.anchor=null),s.mount=()=>e,s.anchor=null,n=!0},p(e,[n]){t=e,s.ctx=t,1&n&&a!==(a=t[0])&&p(a,s)||g(s,t,n)},i(t){n||(y(s.block),n=!0)},o(t){for(let e=0;e<3;e+=1){const t=s.blocks[e];v(t)}n=!1},d(t){t&&i(e),s.block.d(),s.token=null,s=null}}}function P(t,e,a){let n=[];return k((async()=>{const t=await function(t,e){return A({method:"GET",token:t,url:e})}({token:"up:yeah:j9bfSpjgpnwvjFzawbgcvSRaNV77S07LeBwmt5eXrmga5JmiGK7cXjm6M8EkmLhKfIBwpZRc7mASr5GtBmhVlWjOV42iAYjsTnOUFffbYPSaPAoeGdhA5UxmaH66RglY",params:"transactions?filter[category]=groceries"},"https://thingproxy.freeboard.io/fetch/https://api.up.com.au/api/v1/accounts/582be906-8f42-41c6-8177-b53d295c1343/"),e=await L(t),{body:{data:o}}=e;console.log(o),a(0,n=o),O.set(n)})),[n]}class Y extends e{constructor(t){super(),a(this,t,P,M,n,{})}}function _(t){let e,a,n,s,l,f,m,p,g,k,E,I;return E=new Y({}),{c(){e=x(),a=o("section"),n=o("h1"),s=o("div"),l=o("picture"),f=o("source"),m=x(),p=o("img"),k=x(),T(E.$$.fragment),this.h()},l(t){j('[data-svelte="svelte-1anpopb"]',document.head).forEach(i),e=w(t),a=r(t,"SECTION",{class:!0});var o=c(a);n=r(o,"H1",{class:!0});var u=c(n);s=r(u,"DIV",{class:!0});var d=c(s);l=r(d,"PICTURE",{});var h=c(l);f=r(h,"SOURCE",{srcset:!0,type:!0}),m=w(h),p=r(h,"IMG",{src:!0,alt:!0,class:!0}),h.forEach(i),d.forEach(i),u.forEach(i),k=w(o),N(E.$$.fragment,o),o.forEach(i),this.h()},h(){document.title="Home",b(f,"srcset","svelte-welcome.webp"),b(f,"type","image/webp"),p.src!==(g="svelte-welcome.png")&&b(p,"src","svelte-welcome.png"),b(p,"alt","Welcome"),b(p,"class","svelte-mjk9ig"),b(s,"class","welcome svelte-mjk9ig"),b(n,"class","svelte-mjk9ig"),b(a,"class","svelte-mjk9ig")},m(t,o){u(t,e,o),u(t,a,o),d(a,n),d(n,s),d(s,l),d(l,f),d(l,m),d(l,p),d(a,k),$(E,a,null),I=!0},p:h,i(t){I||(y(E.$$.fragment,t),I=!0)},o(t){v(E.$$.fragment,t),I=!1},d(t){t&&i(e),t&&i(a),S(E)}}}export default class extends e{constructor(t){super(),a(this,t,null,_,n,{})}}
